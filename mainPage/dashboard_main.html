<!DOCTYPE html>
<html lang="en">
    <!-- DOCUMENTATION BY JONATHAN LANCE MAYO (GROUP PROGRAMMER)-->

    <!-- HTML HEAD AND CSS CONNECTION-->
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href='https://fonts.googleapis.com/css?family=Overpass Mono' rel='stylesheet'>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <title>Dashboard</title>
        <link rel="stylesheet" href="../design/dashboard_style_main.css">
        <script>
          document.addEventListener('DOMContentLoaded', function() {
            fetch('/checkSession')
              .then(response => response.json())
              .then(data => {
                if (!data.loggedIn) {
                  window.location.href = '/login';
                }
              })
              .catch(error => {
                console.error('Error checking session:', error);
                window.location.href = '/login';
              });
          });
        </script>
    </head>
    <!-- HTML BODY -->
    <body>

        <!-- HEADER - CONTAINS TOP BAR-->
        <header class = "header">
                <h1 id="panel-title">Add Order</h1>

            <div class="header_username">
                <h2 id="dashboard_Username"></h2>
            </div>
        </header>

            <!-- SIDEBAR - CONTAINS LOGO, NAVIGATION, AND LOGOUT-->
           <section class ="sidebar">
                <img src="../Assets/logo.png" alt="Logo" class="sidebar_img">
                <button class="nav-button" data-page="content_add_order">Add Order</button>
                <button class="nav-button" data-page="content_active_order">Active Orders</button>
                <button class="nav-button" data-page="contetn_payment_order">Payment Channel</button>
                <button class="nav-button" data-page="content_order_history">Order History</button>
                <button class="nav-button" data-page="content_inventory_stock">Inventory Stock</button>
                <button class="nav-button" data-page="content_staff_info">Staff Info</button>
                <button class="nav-button" id="logout">Logout</button>
            </section>

        






















            <main class = "dashboard_container">
            <!-- CONTENT PANEL - CONTAINS ALL CONTENT PANEL DISPLAY-->

                <!-- ADD ORDERS PANEL - CONTAINS ADD ORDERS FORM-->
                <section class="content_add_order" style="display: grid;">

                        <div class="card-add-orders">
                            <!-- CREATES FORM-->
                            <form class="add_order_container">
                            <h3>Event Information</h3>
                            <div class="input_row">
                                <label for="event_name">Event Name:</label>
                                <input type="text" id="event_name" required>
                            </div>

                            <div class="input_row">
                                <label for="event_timestamp">Event Timestamp:</label>
                                <input type="datetime-local" id="event_timestamp" required>
                            </div>

                            <div class="input_row">
                                <label for="event_duration">Event Duration (days):</label>
                                <input type="number" id="event_duration" min="1" required>
                            </div>

                            <div class="input_row">
                                <label for="assigned_manager">Assigned Manager:</label>
                                <select id="assigned_manager" required></select>
                            </div>
                    
                            <h3>Address Information</h3>
                            <div class="input_row">
                                <label for="street">Street:</label>
                                <input type="text" id="street" required>
                            </div>
                            
                            <div class="input_row">
                                <label for="barangay">Barangay:</label>
                                <input type="text" id="barangay" required>
                            </div>

                            <div class="input_row">
                                <label for="city">City:</label>
                                <input type="text" id="city" required>
                            </div>
                        </form>
                        </div>
                    

                        <div class="card-add-orders">
                            <h3>Customer Information</h3>
                            <form class="add_order_container">
                            <!-- CUSTOMER FIRST NAME-->
                            <div class="input_row">
                                <label for="first_name">First Name:</label>
                                <input type="text" id="first_name" required>
                            </div>

                            <!-- CUSTOMER MIDDLE NAME-->
                            <div class="input_row">
                                <label for="middle_name">Middle Name:</label>
                                <input type="text" id="middle_name">
                            </div>

                            <!-- CUSTOMER LAST NAME-->
                            <div class="input_row">
                                <label for="last_name">Last Name:</label>
                                <input type="text" id="last_name" required>
                            </div>

                            <!-- CUSTOMER PHONE NUMBER-->
                            <div class="input_row">
                                <label for="phone_number">Phone Number:</label>
                                <input type="tel" id="phone_number" required>
                            </div>

                            <!-- CUSTOMER AGE-->
                            <div class="input_row">
                                <label for="age">Age:</label>
                                <input type="number" id="age" min="0">
                            </div>

                            <!-- CUSTOMER GENDER-->
                            <div class="input_row">
                                <label for="gender">Gender:</label>
                                <select id="gender" required></select>
                            </div>

                            <!-- MANUAL EXTRA FEES ADDED BY BUSINESS-->
                            <div class="input_row">
                                <label for="extra_fees">Extra Fees:</label>
                                <input type="number" id="extra_fees" min="0" step="0.01" value="0">
                            </div>
                        </form>
                        </div>

                        <!-- ORDER TOTAL-->
                    <h3>Item Cost: <span id="subtotal_price">0.00</span></h3>
                    <h3>Total Cost: <span id="total_price">0.00</span></h3>
                <!-- NAVIGATION BUTTONS-->
                    <button type="button" id="add_item_order">ITEM LIST</button>
                    <button type="button" id="add_order_button">ADD ORDER</button>

                <!-- Validation Modal -->
                <div id="validationModal" class="modal">
                    <div class="modal-content">
                        <span class="close-button">&times;</span>
                        <i class='fas fa-exclamation-triangle' style='font-size:48px;color:red'></i>
                            <div class="modal-message">
                                <p id="validationMessage"></p>
                            </div>
                    </div>
                </div>  
            </section>
















            <!-- ADD ITEMS ORDER PANEL - CONTAINS SUBPANEL FOR TABLE SELECTION-->
            <section class="content_add_item_order">                     
                <div class="card_item_container">
                    <h3>Tables</h3>
                    <div class="table_wrapper_item">
                        <table id="tables_Container">
                            <thead>
                                <tr>
                                    <th>Sel</th>
                                    <th>Name</th>
                                    <th>Price</th>
                                    <th>Stock</th>
                                    <th>Qty</th>
                                    <th>Subtotal</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
            
                <!-- CHAIRS SELECTION-->
                <div class="card_item_container">
                    <h3>Chairs</h3>
                    <div class="table_wrapper_item">
                        <table id="chairs_Container">
                            <thead>
                                <tr>
                                    <th>Sel</th>
                                    <th>Name</th>
                                    <th>Price</th>
                                    <th>Stock</th>
                                    <th>Qty</th>
                                    <th>Subtotal</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
                
                <!-- MISCELLANEOUS SELECTION-->
                <div class="card_item_container">
                    <h3>Miscellaneous</h3>
                    <div class="table_wrapper_item">
                        <table id="misc_Container">
                            <thead>
                                <tr>
                                    <th>Sel</th>
                                    <th>Name</th>
                                    <th>Price</th>
                                    <th>Stock</th>
                                    <th>Qty</th>
                                    <th>Subtotal</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
            
                <!-- WORKERS SELECTION-->
                <div class="card_item_container">
                    <h3>Workers</h3>
                    <div class="table_wrapper_item">
                        <table id="workers_Container">
                            <thead>
                                <tr>
                                    <th>Sel</th>
                                    <th>Worker Name</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>

                <h3>Item Cost: <span id="subtotal_price">0.00</span></h3>
                <h3>Total Cost: <span id="total_price">0.00</span></h3>

                <!-- REVERTS BACK TO THE ADD ORDERS PAGE-->
                    <button type="button" id="back_to_add_order">Back to Order</button>
</section>
















                <!-- ACTIVE ORDERS PANEL - CONTAINS ACTIVE ORDERS AND MANIPULATIONS-->
                <section class="content_active_order">

                    <!-- ACTIVE ORDERS CONTAINER-->
                    <div class="card-active-orders">
                        <div class="table_wrapper_active_order">
                        <table id="active_order_table">
                            <thead>
                                <tr>
                                    <th>Order ID</th>
                                    <th>Event Name</th>
                                    <th>Customer Name</th>
                                    <th>Order Status</th>
                                    <th>Start Date</th>
                                    <th>End Date</th>
                                    <th>Manager</th>
                                    <th>Order Total</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <!-- EMPTY BODY FOR IMPORT-->
                            <tbody></tbody>
                        </table>
                    </div>
                    </div>
                </section>












<!------------- Popup for viewing order items ----------------->








                <!-- Popup for viewing order items -->
                <section class="view_order_item_popup">
                    <div class="popup-content">
                        <h3>Order Items</h3>
                        <div class="table_wrapper">
                            <table id="order_items_table">
                                <thead>
                                    <tr>
                                        <th>Item ID</th>
                                        <th>Name</th>
                                        <th>Description</th>
                                        <th>Price</th>
                                        <th>Quantity</th>
                                        <th>Subtotal</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                        <h4>Total: <span id="order_items_total">0.00</span></h4>
                        <h4 id="days_rented">Days Rented: 0</h4>
                        <button id="content_active_order">Return</button>
                    </div>
                </section>















                <section class="content_modify_order" style="display: grid;">

                    <button type="button" id="back_to_active_order">Back to Active Order</button>
            
                <div class="card-add-orders">
                    <!-- CREATES FORM-->
                    <form class="modify_order_container">
                    <h3>Event Information</h3>
                    <div class="input_row">
                        <label for="modify_event_name">Event Name:</label>
                        <input type="text" id="modify_event_name" required>
                    </div>
        
                    <div class="input_row">
                        <label for="modify_event_timestamp">Event Timestamp:</label>
                        <input type="datetime-local" id="modify_event_timestamp" required>
                    </div>
        
                    <div class="input_row">
                        <label for="modify_event_duration">Event Duration (days):</label>
                        <input type="number" id="modify_event_duration" min="1" required>
                    </div>
        
                    <div class="input_row">
                        <label for="modify_assigned_manager">Assigned Manager:</label>
                        <select id="modify_assigned_manager" required></select>
                    </div>
        
                    <h3>Address Information</h3>
        
                    <div class="input_row">
                        <label for="modify_street">Street:</label>
                        <input type="text" id="modify_street" required>
                    </div>
        
                    <div class="input_row">
                        <label for="modify_barangay">Barangay:</label>
                        <input type="text" id="modify_barangay" required>
                    </div>
        
                    <div class="input_row">
                        <label for="modify_city">City:</label>
                        <input type="text" id="modify_city" required>
                    </div>
                </form>
                </div>
            
        
                <div class="card-add-orders">
                    <h3>Customer Information</h3>
                    <form class="add_order_container">
                        <div class="input_row">
                            <label for="modify_first_name">First Name:</label>
                            <input type="text" id="modify_first_name" required>
                        </div>
        
                        <div class="input_row">
                            <label for="modify_middle_name">Middle Name:</label>
                            <input type="text" id="modify_middle_name">
                        </div>
        
                        <div class="input_row">
                            <label for="modify_last_name">Last Name:</label>
                            <input type="text" id="modify_last_name" required>
                        </div>
        
                        <div class="input_row">
                            <label for="modify_phone_number">Phone Number:</label>
                            <input type="tel" id="modify_phone_number" required>
                        </div>
        
                        <div class="input_row">
                            <label for="modify_age">Age:</label>
                            <input type="number" id="modify_age" min="0">
                        </div>
        
                        <div class="input_row">
                            <label for="modify_gender">Gender:</label>
                            <select id="modify_gender" required></select>
                        </div>
        
                        <div class="input_row">
                            <label for="modify_extra_fees">Extra Fees:</label>
                            <input type="number" id="modify_extra_fees" min="0" step="0.01" value="0">
                        </div>
                </form>
            </div>
        
                <!-- ORDER TOTAL-->
            <h3>Item Cost: <span id="subtotal_price">0.00</span></h3>
            <h3>Total Cost: <span id="total_price">0.00</span></h3>
        
        <!-- NAVIGATION BUTTONS-->
            <button type="button" id="modify_item_order">MODIFY ITEM LIST</button>
            <button type="button" id="save_modify_order">SAVE ORDER</button>
        </section>
        
        
        <section class="content_modify_item_order">   
        
                <button type="button" id="back_to_modify_order">Back to Order Info</button>
        
            <!-- TABLES SELECTION-->
            <div class="card_item_container">
                <h3>Tables</h3>
                    <table id="modify_tables_Container">
                        <thead>
                            <tr>
                            <th>Sel</th>
                            <th>Name</th>
                            <th>Price</th>
                            <th>Stock</th>
                            <th>Qty</th>
                            <th>Subtotal</th>
                            </tr>
                        </thead>
                    <!-- EMPTY BODY FOR IMPORT-->
                    <tbody></tbody>
                    </table>
            </div>
        
        
            <!-- CHAIRS SELECTION-->
            <div class="card_item_container">
                <h3>Chairs</h3>
                <table id="modify_chairs_Container">
                    <thead>
                        <tr>
                        <th>Sel</th>
                        <th>Name</th>
                        <th>Price</th>
                        <th>Stock</th>
                        <th>Qty</th>
                        <th>Subtotal</th>
                        </tr>
                    </thead>
                    <!-- EMPTY BODY FOR IMPORT-->
                    <tbody></tbody>
                </table>
            </div>
            
            <!-- MISCELLANEOUS SELECTION-->
            <div class="card_item_container">
                <h3>Miscellaneous</h3>
                    <table id="modify_misc_Container">
                        <thead>
                            <tr>
                            <th>Sel</th>
                            <th>Name</th>
                            <th>Price</th>
                            <th>Stock</th>
                            <th>Qty</th>
                            <th>Subtotal</th>
                            </tr>
                        </thead>
                        <!-- EMPTY BODY FOR IMPORT-->
                        <tbody></tbody>
                    </table>
                </div>
        
            <!-- WORKERS SELECTION-->
            <div class="card_item_container">
                <h3>Workers</h3>
                    <table id="modify_workers_Container">
                        <thead>
                            <tr>
                                <th>Sel</th>
                                <th>Worker Name</th>
                            </tr>
                        </thead>
                    <tbody></tbody>
                </table>
            </div>
        
        <div class = "order_total">
            <h3>Item Cost: <span id="item_subTotal">0.00</span></h3>
        </div>
        </section>






















                    <!-- PAYMENT CHANNEL PANEL - CONTAINS FINANCE MANIPULATION -->

                    <section class="content_payment_order">
                        <div class="content_payment">
                            <h3>Payment Channel</h3>
                            <div class="payment_channel_info">
                                <div class="input_row">
                                    <label for="payment_channel">Payment Channel:</label>
                                    <select id="payment_channel" required></select>
                                </div>
                                <div class="input_row">
                                    <label for="payment_channel_description">Description:</label>
                                    <input type="text" id="payment_channel_description" required>
                                </div>
                                <div class="input_row">
                                    <label for="payment_channel_status">Status:</label>
                                    <select id="payment_channel_status" required></select>
                                </div>
                            </div>
                            <div class="payment_channel_buttons">
                                <button type="button" id="add_payment_channel">ADD PAYMENT CHANNEL</button>
                                <button type="button" id="modify_payment_channel">MODIFY PAYMENT CHANNEL</button>
                            </div>
                        </div>
                        <div class="payment_channel_table">
                            <table id="payment_channel_table">
                                <thead>
                                    <tr>
                                        <th>Payment Channel ID</th>
                                        <th>Payment Channel</th>
                                        <th>Description</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </section>  










                    <!-- ORDER HISTORY PANEL - CONTAINS ORDER HISTORY AND SEARCH-->
                    <section class="content_order_history"> 

                        <div class="card-order-history">

                        <div class="order_history_search">
                            <input type="text" id="orderHistorySearch" placeholder="Search by Order ID or Customer Name">
                        </div>

                        <!-- TABLE CONTAINER-->
                        <div class="table_wrapper_order_history">
                            <table id="order_History_Table">
                                <thead>
                                    <tr>
                                        <th>Order ID</th>
                                        <th>Customer</th>
                                        <th>Event Name</th>
                                        <th>Event Start</th>
                                        <th>Event End</th>
                                        <th>Total Price</th>
                                        <th>Status</th>
                                        <th>Manager</th>
                                        <th>Address</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                            <tbody></tbody>
                            </table>
                        </div>
                    </div>
                    </section>

                    <section class="view_order_item_history">
                        <div class="popup-view">
                          <h3>Order Items</h3>
                          <div class="table_wrapper">
                            <table id="order_History_Items_Table">
                              <thead>
                                <tr>
                                  <th>Item ID</th>
                                  <th>Name</th>
                                  <th>Description</th>
                                  <th>Price</th>
                                  <th>Quantity</th>
                                  <th>Subtotal</th>
                                </tr>
                              </thead>
                              <tbody></tbody>
                            </table>
                          </div>
                          <h4>Total: <span id="order_history-items-total">0.00</span></h4>
                          <button id="order_history_items_return">Return</button>
                        </div>
                    </section>



                    <!-- INVENTORY STOCK PANEL - CONTAINS INVENTORY STOCK AND MANIPULATION-->
                    <section class="content_inventory_stock">
                        <div class="card-inventory-stock">
                            <h3>Item Information</h3>
                            <div class="table_wrapper_inventory">
                                <table id="inventory_items_table">
                                    <thead>
                                        <tr>
                                            <th>Item ID</th>
                                            <th>Item Name</th>
                                            <th>Description</th>
                                            <th>Item Type</th>
                                            <th>Price</th>
                                            <th>Total Stock</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                            </div>

                            <div class="card-inventory-stock">
                            <h3>Stock Information</h3>
                            <div class="table_wrapper_inventory">
                                <table id="stock_info_table">
                                    <thead>
                                        <tr>
                                            <th>Stock ID</th>
                                            <th>Item ID</th>
                                            <th>Name</th>
                                            <th>Quantity</th>
                                            <th>Supplier Name</th>
                                            <th>Supplier ID</th>
                                            <th>Manager Name</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>

                        <div class="inventory_buttons">
                            <button id="add_stocks_btn">Add Stocks</button>
                            <button id="add_item_btn">Add Item</button>
                        </div>
                    </section>

                    <!-- Popup for Stock Input -->
                    <section class="view_stock_input">
                        <div class="popup-content">
                            <h3>Add Stock</h3>
                            <div class="input_row">
                                <label for="stock_item_select">Item:</label>
                                <select id="stock_item_select"></select>
                            </div>
                            <div class="input_row">
                                <label for="stock_quantity">Quantity:</label>
                                <input type="number" id="stock_quantity" min="1">
                            </div>
                            <div class="input_row">
                                <label for="stock_manager_select">Manager:</label>
                                <select id="stock_manager_select"></select>
                            </div>
                            <div class="input_row">
                                <label for="stock_supplier_id">Supplier ID:</label>
                                <input type="text" id="stock_supplier_id">
                            </div>
                            <div class="inventory_buttons">
                                <button id="stock_return_btn">Return to Stock Inventory</button>
                                <button id="stock_submit_btn">Add Stock</button>
                            </div>
                        </div>
                    </section>

                    <!-- Popup for Item Input -->
                    <section class="view_item_input"">
                        <div class="popup-content">
                            <h3>Add Item</h3>

                            <div class="input_row">
                                <label for="item_name_input">Item Name:</label>
                                <input type="text" id="item_name_input">
                            </div>

                            <div class="input_row">
                                <label for="item_description_input">Description:</label>
                                <input type="text" id="item_description_input">
                            </div>

                            <div class="input_row">
                                <label for="item_price_input">Price:</label>
                                <input type="number" id="item_price_input" step="0.01" min="0">
                            </div>

                            </div>
                        </div>  
                    </section>
                </div>
            </div> 

            </main>
        <script src="../script.js"></script>
    </body>
</html>